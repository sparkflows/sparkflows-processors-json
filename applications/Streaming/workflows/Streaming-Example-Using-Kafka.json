{
  "name": "Streaming-Example-Using-Kafka",
  "uuid": "95edd0d0-f95a-4d06-960a-75610c61e404",
  "category": "Kafka",
  "description": "Reads from Kafka, parses the record and writes it out to HDFS",
  "parameters": "-",
  "nodes": [
    {
      "id": "1",
      "name": "StructuredStreamingKafka",
      "description": "Reads in streaming text from topics in Apache Kafka",
      "details": "",
      "examples": "",
      "type": "sparkstreaming",
      "nodeClass": "fire.nodes.structuredstreaming.NodeStructuredStreamingKafka",
      "x": "209.984px",
      "y": "120.66px",
      "fields": [
        {
          "name": "storageLevel",
          "value": "DEFAULT",
          "widget": "array",
          "title": "Output Storage Level",
          "description": "Storage Level of the Output Datasets of this Node",
          "optionsArray": [
            "DEFAULT",
            "NONE",
            "DISK_ONLY",
            "DISK_ONLY_2",
            "MEMORY_ONLY",
            "MEMORY_ONLY_2",
            "MEMORY_ONLY_SER",
            "MEMORY_ONLY_SER_2",
            "MEMORY_AND_DISK",
            "MEMORY_AND_DISK_2",
            "MEMORY_AND_DISK_SER",
            "MEMORY_AND_DISK_SER_2",
            "OFF_HEAP"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "batchDuration",
          "value": "30",
          "widget": "textfield",
          "title": "Batch Duration in Seconds",
          "description": "Batch Duration in Seconds",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "brokers",
          "value": "localhost:9092",
          "widget": "textfield",
          "title": "Kafka Brokers",
          "description": "Kafka Brokers",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "group",
          "value": "my-consumer-group",
          "widget": "textfield",
          "title": "Consumer Group",
          "description": "Consumer Group",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "topics",
          "value": "flights",
          "widget": "textfield",
          "title": "Kafka Topics",
          "description": "List of Topics separated by , (comma)",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "autoOffsetReset",
          "value": "latest",
          "widget": "textfield",
          "title": "auto.offset.reset",
          "description": "Auto Offset Reset",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "enableAutoCommit",
          "value": "true",
          "widget": "textfield",
          "title": "enable.auto.commit",
          "description": "Enable Auto Commit",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "kafkaParamsKeys",
          "value": "[]",
          "widget": "key_array",
          "title": "Params Key/Value Pairs",
          "description": "More Config Values",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "kafkaParamsValues",
          "value": "[]",
          "widget": "value_array",
          "title": "Parms Key/Value Pairs",
          "description": "More Config Values",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        }
      ],
      "engine": "scala"
    },
    {
      "id": "2",
      "name": "FieldSplitter",
      "description": "This node splits the string of the specified input column using the specified delimiter",
      "details": "Splits the string of the specified input column using the specified delimiter. The new column names are specified by the user.<br>\n<br>\nThe new dataframe would have the new columns added to it.<br>",
      "examples": "If a String Column stores values in [PRD_CD]:[PRD_NAME] format and incoming Dataframe has a value as CD01:DrillMachine <br>\nthen using : as Separator to split data into two Columns (Col1, Col2) would result in followings:<br>\n<br>\n<ul>\n<li> Col1 : CD01</li>\n<li> Col2 : DrillMachine</li>\n</ul>",
      "type": "transform",
      "nodeClass": "fire.nodes.etl.NodeFieldSplitter",
      "x": "539.965px",
      "y": "132.625px",
      "fields": [
        {
          "name": "storageLevel",
          "value": "DEFAULT",
          "widget": "array",
          "title": "Output Storage Level",
          "description": "Storage Level of the Output Datasets of this Node",
          "optionsArray": [
            "DEFAULT",
            "NONE",
            "DISK_ONLY",
            "DISK_ONLY_2",
            "MEMORY_ONLY",
            "MEMORY_ONLY_2",
            "MEMORY_ONLY_SER",
            "MEMORY_ONLY_SER_2",
            "MEMORY_AND_DISK",
            "MEMORY_AND_DISK_2",
            "MEMORY_AND_DISK_SER",
            "MEMORY_AND_DISK_SER_2",
            "OFF_HEAP"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "inputCol",
          "value": "value",
          "widget": "variable",
          "title": "Input Column",
          "description": "Input column name",
          "datatypes": [
            "string"
          ],
          "required": true,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "outputCols",
          "value": "DAY_OF_MONTH,DAY_OF_WEEK,CARRIER,TAIL_NUM,FL_NUM,ORIGIN_AIRPORT_ID,ORIGIN,DEST_AIRPORT_ID,DEST,CRS_DEP_TIME,DEP_TIME,DEP_DELAY_NEW,CRS_ARR_TIME,ARR_TIME,ARR_DELAY_NEW,CRS_ELAPSED_TIME,DISTANCE",
          "widget": "textarea_small",
          "title": "Output Columns",
          "description": "New column names separated by comma (eg: col1,co2,col3)",
          "required": true,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "sep",
          "value": ",",
          "widget": "textfield",
          "title": "Separator",
          "description": "Separator to split the input column value (default: space)",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "onError",
          "value": "die",
          "widget": "array",
          "title": "On Error",
          "description": "",
          "optionsArray": [
            "die",
            "ignore"
          ],
          "required": true,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        }
      ],
      "engine": "scala"
    },
    {
      "id": "3",
      "name": "StructuredStreamingFileSink",
      "description": "It writes the DataFrame to files with Structured Streaming",
      "details": "",
      "examples": "",
      "type": "transform",
      "nodeClass": "fire.nodes.structuredstreaming.NodeStructuredStreamingFileSink",
      "x": "533.965px",
      "y": "335.641px",
      "fields": [
        {
          "name": "storageLevel",
          "value": "DEFAULT",
          "widget": "array",
          "title": "Output Storage Level",
          "description": "Storage Level of the Output Datasets of this Node",
          "optionsArray": [
            "DEFAULT",
            "NONE",
            "DISK_ONLY",
            "DISK_ONLY_2",
            "MEMORY_ONLY",
            "MEMORY_ONLY_2",
            "MEMORY_ONLY_SER",
            "MEMORY_ONLY_SER_2",
            "MEMORY_AND_DISK",
            "MEMORY_AND_DISK_2",
            "MEMORY_AND_DISK_SER",
            "MEMORY_AND_DISK_SER_2",
            "OFF_HEAP"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "path",
          "value": "data/COMMON/Flights/Output/FlightData/",
          "widget": "textfield",
          "title": "Path",
          "description": "Path where to write the files",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "outputMode",
          "value": "append",
          "widget": "array",
          "title": "Output Mode",
          "description": "Output Mode for saving to Files",
          "optionsArray": [
            "append",
            "complete",
            "update"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "checkpointLocation",
          "value": "flights_checkpoint",
          "widget": "textfield",
          "title": "Checkpoint Location",
          "description": "Checkpoint Location on HDFS compatible file system for Streaming",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "format",
          "value": "csv",
          "widget": "array",
          "title": "Format",
          "description": "File Format",
          "optionsArray": [
            "csv",
            "orc",
            "json",
            "parquet"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "awaitTermination",
          "value": "false",
          "widget": "array",
          "title": "Await Termination",
          "description": "",
          "optionsArray": [
            "true",
            "false"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "triggerIntervalInSeconds",
          "value": "60",
          "widget": "textfield",
          "title": "Trigger Interval In Seconds",
          "description": "",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "partitionBy",
          "value": "",
          "widget": "textfield",
          "title": "Partition By Columns",
          "description": "Partition By Columns separated by space (can be empty in which case partitionBy would not be applied)",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        }
      ],
      "engine": "scala"
    },
    {
      "id": "4",
      "name": "Sticky Note",
      "iconImage": "fa fa-file-text",
      "description": "Allows capturing Notes on the Workflow",
      "details": "",
      "examples": "",
      "type": "sticky",
      "nodeClass": "fire.nodes.doc.NodeStickyNote",
      "x": "679.524px",
      "y": "147.524px",
      "fields": [
        {
          "name": "storageLevel",
          "value": "DEFAULT",
          "widget": "array",
          "title": "Output Storage Level",
          "description": "Storage Level of the Output Datasets of this Node",
          "optionsArray": [
            "DEFAULT",
            "NONE",
            "DISK_ONLY",
            "DISK_ONLY_2",
            "MEMORY_ONLY",
            "MEMORY_ONLY_2",
            "MEMORY_ONLY_SER",
            "MEMORY_ONLY_SER_2",
            "MEMORY_AND_DISK",
            "MEMORY_AND_DISK_2",
            "MEMORY_AND_DISK_SER",
            "MEMORY_AND_DISK_SER_2",
            "OFF_HEAP"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "bgColor",
          "value": "blue",
          "widget": "textfield",
          "title": "Bg Color",
          "description": "Background of note",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "width",
          "value": "300px",
          "widget": "textfield",
          "title": "Width",
          "description": "Width of note",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "height",
          "value": "110px",
          "widget": "textfield",
          "title": "Height",
          "description": "Height of note",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        },
        {
          "name": "comment",
          "value": "<p><strong>Read from Kfka Streaming Topic and use the Structured Streaming File Sink to continuously write streaming data to files in a specified directory</strong></p>",
          "widget": "textarea_rich",
          "title": "Comment",
          "description": "Comments for the Workflow",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "expandable": false
        }
      ],
      "engine": "all"
    }
  ],
  "edges": [
    {
      "source": "1",
      "target": "2",
      "id": 1
    },
    {
      "source": "2",
      "target": "3",
      "id": 2
    }
  ],
  "dataSetDetails": [],
  "engine": "scala"
}