{
  "name": "ICF",
  "uuid": "02123f22-6675-4291-8054-230fd7460369",
  "category": "-",
  "parameters": " --var textField1=CSP --var destinationPath1=/data/GENAI/Regulatory-Navigator/CSP/uploads/ --var textField=CSP --var refresh=true --var view4=false --var folderPath=/home/sparkflows/fire-data/data/GENAI/Regulatory-Navigator/CSP/uploads/Prot_000.pdf --var folderPath3='/home/sparkflows/fire-data/data/GENAI/Regulatory-Navigator/CSP/uploads/Prot_000.pdf' --var run=true --var destinationPath=/data/GENAI/Regulatory-Navigator/CSP/uploads/ --var all=false --var generateIcf1=false --var generateIcf=false --var selectExecution=1 --var refresh1=false --var folderPath2=/data/GENAI/Regulatory-Navigator/CSP/output/PLPS --var folderPath1=/data/GENAI/Regulatory-Navigator/CSP/output/ICF/ --var checkbox2=false --var view2=false --var download=false --var toc='SUMMARY OF CHANGES','2.0 TRIAL DESIGN' --var generateIcf=true --var refresh1=true",
  "nodes": [
    {
      "id": "1",
      "name": "Interactive LLM Agent",
      "iconImage": "/images/icons/node-icon/Graph_group_by_column.svg",
      "description": "This node enables standalone or dataframe-optional LLM queries across multiple providers (OpenAI, Bedrock, Gemini). It is designed for sequential agent flows like 'Similar Company Finder' and supports saving structured responses.",
      "details": "",
      "examples": "",
      "type": "pyspark",
      "nodeClass": "fire.nodes.gai.NodeInteractiveLLMAgent",
      "x": "486px",
      "y": "300px",
      "fields": [
        {
          "name": "storageLevel",
          "value": "DEFAULT",
          "widget": "array",
          "title": "Output Storage Level",
          "description": "Storage Level of the Output Datasets of this Node",
          "optionsArray": [
            "DEFAULT",
            "NONE",
            "DISK_ONLY",
            "DISK_ONLY_2",
            "MEMORY_ONLY",
            "MEMORY_ONLY_2",
            "MEMORY_ONLY_SER",
            "MEMORY_ONLY_SER_2",
            "MEMORY_AND_DISK",
            "MEMORY_AND_DISK_2",
            "MEMORY_AND_DISK_SER",
            "MEMORY_AND_DISK_SER_2",
            "OFF_HEAP"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "llmConnection",
          "value": "",
          "widget": "object_array",
          "title": "Select Connection",
          "description": "Select Connection",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "customPrompt",
          "value": "You are a helpful assistant,\nWhen responding, do not add introductions like\n'Of course', 'Here is', or any meta-commentary.\nStart directly with the HTML for Informed consent forms (ICF).\n\nYou are a very good principal investigator. Your work is to create Informed consent forms (ICF). Output must follow html format and make sure output must be more then 10000 words\nFor creating ICF just use these topics first extract content of these topics then only start creating - ${toc}\n\nÂ  Â  Please provide detailed instructions covering the initial and adjusted dosages of the medication, any monitoring and follow-up required to ensure the correct dosage, and specific instructions on how the medication should be administered. Make sure each section is clear and easy to understand for the patient.\nÂ  Â  Provide a clean and concise version of the provided text, ensuring there are no duplicate lines, repeated information, or unnecessary prompts in the output. Organize the content so it reads smoothly, focusing on removing redundancy while maintaining the main ideas and structure.\nÂ  Â  Output must be in html format.\n\n\n\tStudy Title and Introduction (1000+ words):\n\n\n\tBegin with a formal title and concise summary, explaining the study's purpose and background.\n\tProvide a context for the study by detailing the condition it addresses, current treatment challenges, and the need for this research.\n\tExample: ÂThis study, titled [Study Title], is conducted to explore [treatment/medication] effects on patients with [condition]. This section will give you an overview of the study's purpose and why it is crucial for advancing treatments.Â\n\tBackground and Purpose of the Study (1000+ words):\n\n\n\tExplain the medical condition and its impact on patients, including details on prevalence and common challenges.\n\tDiscuss the drug or intervention being tested, how it works, and why it could be beneficial compared to existing treatments.\n\tProvide an overview of study goals, focusing on how they aim to improve knowledge or patient outcomes.\n\tExample: This study focuses on [condition], affecting millions globally. Current treatments often fall short, and [Drug Name] is being tested to address [specific symptom or limitation]ÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂ\n\tParticipant Expectations and Study Duration (1000+ words):\n\n\n\tBreak down the total duration of the study, specifying all visits, tests, and interventions expected from participants.\n\tInclude descriptions of each phase, detailing required tests (e.g., CPET, blood work) and intervals between visits, using plain language to explain scientific terms.\n\tExample: ÂParticipants will be involved for about [duration], with regular assessments and treatment adjustments. Each stage of the study has specific expectations, which are outlined belowÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂ\n\tRisks and Discomforts (1000+ words):\n\n\n\tProvide a thorough overview of potential risks, explaining common and rare side effects, their severity, and likelihood.\n\tDiscuss any procedural risks (e.g., exercise testing, medication) and detail safety measures in place.\n\tExample: ÃÂ¢ÃÂÃÂAs with all medications, there are potential risks. Common side effects of [Drug Name] include [list common effects]. Rare, more serious risks include [explain rare effects]ÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂ\n\tPotential Benefits (1000+ words):\n\n\n\tOutline any potential health improvements or benefits, while clarifying that benefits are not guaranteed.\n\tEmphasize the importance of the study as outcomes for future patients and medical knowledge, even if direct participant benefits are not certain.\n\tExample: ÃÂ¢ÃÂÃÂThis study might help improve understanding of [condition] and lead to better treatments. However, individual benefits are not guaranteedÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂ\n\tAlternative Treatments (1000+ words):\n\n\n\tDescribe other standard treatments available outside the study to help participants understand their options.\n\tMention any differences in treatment effectiveness or side effects that could be relevant to their decision.\n\tExample: ÃÂ¢ÃÂÃÂIf you choose not to participate, there are alternative treatments such as [mention options]. Discussing these with your healthcare provider can help you make an informed choiceÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂ\n\tConfidentiality and Data Privacy (1000+ words):\n\n\n\tExplain data collection, storage, and sharing policies, assuring participants of confidentiality and how their information will be protected.\n\tDescribe anonymization practices and who may have access to data, including regulatory bodies or research partners.\n\tExample: ÃÂ¢ÃÂÃÂYour privacy is a top priority. All data will be anonymized and securely stored, with access limited to authorized personnel. If results are shared, they will not include personal identifiersÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂ\n\tVoluntary Participation and Right to Withdraw (1000+ words):\n\n\n\tEmphasize the voluntary nature of participation, including the right to withdraw without affecting their medical care.\n\tExplain how participants can communicate a decision to leave the study and any follow-up required upon withdrawal.\n\tExample: ÃÂ¢ÃÂÃÂJoining the study is voluntary, and you may withdraw at any time without penalty. If you choose to withdraw, please inform the study coordinatorÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂ\n\tCost and Compensation (500+ words):\n\n\n\tDetail any costs that participants might incur and explain what the study will cover (e.g., medication, tests) and if there are any compensations or reimbursements.\n\tExample: ÃÂ¢ÃÂÃÂThere is no cost to participate in the study. The study sponsor covers the cost of [Drug/Procedure]. Participants will not receive financial compensation but may be reimbursed for travelÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂ\n\tContact Information for Questions or Concerns (1000+ words):\n\n\n\tInclude contact details for the principal investigator, research coordinators, and any independent review boards so participants know who to reach out to with questions or concerns.\n\tExample: ÃÂ¢ÃÂÃÂIf you have questions about the study or your rights as a participant, please contact [InvestigatorÃÂ¢ÃÂÃÂs name, phone number, email].ÃÂ¢ÃÂÃÂ\n\tAuthorization to Use and Share Health Information (1000+ words):\n\n\n\tExplain the types of data that may be collected and how it will be used and shared for research purposes.\n\tExample: ÃÂ¢ÃÂÃÂYour medical information, including [types of records], will be collected as part of this study. This data is essential to the studyÃÂ¢ÃÂÃÂs success, and only de-identified information will be sharedÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂ\n\tConsent Statement and Signature Block (1000+ words):\n\n\n\tCraft a clear statement confirming that participants have read and understood the form and agree to participate voluntarily.\n\tInclude spaces for participant and witness signatures, reinforcing their rights to ask questions and receive clarification.\n\tExample: ÃÂ¢ÃÂÃÂI have read this form, had the opportunity to ask questions, and understand the studyÃÂ¢ÃÂÃÂs requirements, risks, and benefits. By signing below, I voluntarily consent to participateÃÂ¢ÃÂÃÂ¦ÃÂ¢ÃÂÃÂÂ  Â  At last Please add all references from which you are creating responce, reference such as pahe number of headings.",
          "widget": "textareafield",
          "title": "Prompt",
          "description": "Custom prompt to instruct the model.",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "metadataCols",
          "value": "[\"content\"]",
          "widget": "variables",
          "title": "Metadata Columns",
          "description": "Select one or more content columns to pass as input to the model.",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        }
      ],
      "engine": "pyspark"
    },
    {
      "id": "2",
      "name": "Document To Text",
      "iconImage": "/images/icons/node-icon/PDF.svg",
      "description": "The DocumentToText node extracts text content from documents, including PDF, TXT, DOCX, and image files, located in a specified file path or directory. It processes either a single file or an entire directory, producing a structured DataFrame with columns for the extracted text, file name, page numbers, and optionally, base64-encoded data for PDFs and images.",
      "details": "",
      "examples": "",
      "type": "pyspark",
      "nodeClass": "fire.nodes.gai.NodeDocumentToText",
      "x": "198.111px",
      "y": "307.111px",
      "fields": [
        {
          "name": "storageLevel",
          "value": "DEFAULT",
          "widget": "array",
          "title": "Output Storage Level",
          "description": "Storage Level of the Output Datasets of this Node",
          "optionsArray": [
            "DEFAULT",
            "NONE",
            "DISK_ONLY",
            "DISK_ONLY_2",
            "MEMORY_ONLY",
            "MEMORY_ONLY_2",
            "MEMORY_ONLY_SER",
            "MEMORY_ONLY_SER_2",
            "MEMORY_AND_DISK",
            "MEMORY_AND_DISK_2",
            "MEMORY_AND_DISK_SER",
            "MEMORY_AND_DISK_SER_2",
            "OFF_HEAP"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "filePath",
          "value": "${folderPath}",
          "widget": "textfield",
          "title": "Directory/File Path",
          "description": "Select a Pdf/Docx/Images File or Directory",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "fileType",
          "value": "pdf",
          "widget": "array",
          "title": "Document Type",
          "description": "Choose a Document Type.If Empty all three types of files will be processed.",
          "optionsArray": [
            "pdf",
            "docx",
            "image"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "recursive",
          "value": "false",
          "widget": "array",
          "title": "Recursive",
          "description": "Recursively process the documents in the given Directory",
          "optionsArray": [
            "true",
            "false"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "isImage",
          "value": "false",
          "widget": "array",
          "title": "Image Encoding",
          "description": "Adds a column for base64 encoded pages",
          "optionsArray": [
            "true",
            "false"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "columns",
          "value": "",
          "widget": "tab",
          "title": "Rename Output Cols",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "fileNameCol",
          "value": "fileName",
          "widget": "textfield",
          "title": "File Name Column",
          "description": "Rename File Name Column. Defaults to fileName",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "contentCol",
          "value": "content",
          "widget": "textfield",
          "title": "Content Column",
          "description": "Rename Content Column. Defaults to content",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "pageNumberCol",
          "value": "pageNumber",
          "widget": "textfield",
          "title": "Page Number Column",
          "description": "Rename Page Number Column. Defaults to pageNumber",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "base64ImageCol",
          "value": "base64ImageCol",
          "widget": "textfield",
          "title": "Base64 Image Column",
          "description": "Rename Image Column. Defaults to base64ImageCol",
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        }
      ],
      "engine": "pyspark"
    },
    {
      "id": "3",
      "name": "Output Formatter",
      "description": "This node formats output from Columns.",
      "details": "",
      "examples": "",
      "type": "transform",
      "nodeClass": "fire.nodes.graph.NodeOutputFormatter",
      "x": "763.108px",
      "y": "299.111px",
      "fields": [
        {
          "name": "storageLevel",
          "value": "DEFAULT",
          "widget": "array",
          "title": "Output Storage Level",
          "description": "Storage Level of the Output Datasets of this Node",
          "optionsArray": [
            "DEFAULT",
            "NONE",
            "DISK_ONLY",
            "DISK_ONLY_2",
            "MEMORY_ONLY",
            "MEMORY_ONLY_2",
            "MEMORY_ONLY_SER",
            "MEMORY_ONLY_SER_2",
            "MEMORY_AND_DISK",
            "MEMORY_AND_DISK_2",
            "MEMORY_AND_DISK_SER",
            "MEMORY_AND_DISK_SER_2",
            "OFF_HEAP"
          ],
          "required": false,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "column",
          "value": "response",
          "widget": "variable",
          "title": " Select Column",
          "description": "Select Column to format",
          "required": true,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        },
        {
          "name": "key",
          "value": "genAiResponse",
          "widget": "textfield",
          "title": "Key",
          "description": "Specify a key Name",
          "required": true,
          "display": true,
          "editable": true,
          "disableRefresh": false,
          "disabled": false,
          "expandable": false,
          "header": "",
          "size": "100%",
          "toggle": ""
        }
      ],
      "engine": "pyspark"
    }
  ],
  "edges": [
    {
      "source": "2",
      "target": "1",
      "id": 1
    },
    {
      "source": "1",
      "target": "3",
      "id": 2
    }
  ],
  "dataSetDetails": [],
  "engine": "pyspark"
}