{
  "id": "7",
  "name": "ChiSq Selector",
  "type": "ml-transformer",
  "description": "Chi-Squared feature selection, which selects categorical features to use for predicting a categorical label.",
  "nodeClass": "fire.nodes.ml.NodeChiSqSelector",
  "fields" : [
    {"name":"featuresCol", "value":"", "widget": "variable", "title": "Features Column ","required": true, "datatypes":["vectorudt"], "description": "The features column name"},

    {"name":"outputCol", "value":"", "widget": "textfield", "title": "Output Column", "required": true, "datatypes":["vectorudt"], "description": "The output column name"},

    {"name":"labelCol", "value":"", "widget": "variable", "title": "Label Column", "required": true, "datatypes":["double"], "description": "The label column name"},

    {"name":"numTopFeatures", "value":"50", "widget": "textfield", "title": "NumTopFeatures", "required": true, "datatypes":["int"], "description": "Number of features that selector will select (ordered by statistic value descending)."},

    {"name": "percentile", "value":0.1, "widget": "textfield", "title": "Percentile", "description": "Percentile of features that selector will select, ordered by statistics value descending. Only applicable when selectorType is percentile", "datatypes":["double"]},

    {"name": "fpr", "value":0.05, "widget": "textfield", "title": "FPR", "description": "The highest p-value for features to be kept. Only applicable when selectorType is fpr", "datatypes":["double"]},

    {"name": "fdr", "value":0.05, "widget": "textfield", "title": "FDR", "description": "The upper bound of the expected false discovery rate. Only applicable when selectorType is fdr", "datatypes":["double"]},

    {"name": "fwe", "value":0.05, "widget": "textfield", "title": "FWE", "description": "The upper bound of the expected family-wise error rate. Only applicable when selectorType is fwe", "datatypes":["double"]},

    {"name": "selectorType", "value":"numTopFeatures", "widget": "array", "title": "Selector Type", "optionsArray": ["numTopFeatures","percentile","fpr","fdr","fwe"], "description": "The selector type of the ChisqSelector."}
  ]
}


start-details:

ChiSqSelector stands for Chi-Squared feature selection. It operates on labeled data with categorical features. ChiSqSelector uses the Chi-Squared test of independence to decide which features to choose.

More details are available at : http://spark.apache.org/docs/latest/ml-features.html#chisqselector

end-details:


start-examples:

h2:The below example is available at :  http://spark.apache.org/docs/latest/ml-features.html#chisqselector

import org.apache.spark.ml.feature.ChiSqSelector
import org.apache.spark.ml.linalg.Vectors

val data = Seq(
  (7, Vectors.dense(0.0, 0.0, 18.0, 1.0), 1.0),
  (8, Vectors.dense(0.0, 1.0, 12.0, 0.0), 0.0),
  (9, Vectors.dense(1.0, 0.0, 15.0, 0.1), 0.0)
)

val df = spark.createDataset(data).toDF("id", "features", "clicked")

val selector = new ChiSqSelector()
  .setNumTopFeatures(1)
  .setFeaturesCol("features")
  .setLabelCol("clicked")
  .setOutputCol("selectedFeatures")

val result = selector.fit(df).transform(df)
result.show()

end-examples:


