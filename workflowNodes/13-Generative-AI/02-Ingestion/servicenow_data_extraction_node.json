{
    "id": "6",
    "name": "Service Now Data Extraction",
    "iconImage": "/images/icons/node-icon/Graph_group_by_column.svg",
    "description": "",
    "input": "It wont take any input, as this will be the 1st node in the workflow",
    "output": "",
    "type": "pyspark",
    "engine": "pyspark",
    "nodeClass": "fire.nodes.gai.NodeReadFromServiceNow",
    "fields": [
        {"name": "serviceNowConnection", "value": "", "widget": "object_array", "title": "Select ServiceNow Connection", "description": "Select Service now Connection"}
    ]
}

start-details:

<h2>Service Now Data Extraction Node Details</h2>
The Service Now Data Extraction node retrieves incident data from a ServiceNow instance and outputs it as a DataFrame. It serves as the starting node in a workflow, requiring no input DataFrame, and is designed for PySpark-based pipelines. The node connects to the ServiceNow API to fetch records and extracts specific fields, making it suitable for integrating ServiceNow data into data processing workflows.

<h4>General:</h4>

<h5>Select ServiceNow Connection:</h5> Specifies the connection details for the ServiceNow API, including the instance URL, user ID, and password. This is required to authenticate and access the ServiceNow instance.

<h4>Output:</h4>
The node outputs a DataFrame with the following columns:
* inc_number: The incident number from the ServiceNow record.
* state: The state of the incident (e.g., "New", "In Progress", "Closed").
* short_description: A brief description of the incident.

end-details:

start-examples:

<h2>Example: Service Now Data Extraction Node</h2>

<h3>Input:</h3>
No input DataFrame is required, as this is the first node in the workflow.

The Service Now Data Extraction node is configured as follows:
* Select ServiceNow Connection: Configured with a valid ServiceNow instance URL, user ID, and password

<h3>Output:</h3>
The node queries the ServiceNow API and produces a DataFrame with the following structure:

inc_number | state      | short_description
-----------|------------|------------------------------
INC001     | New        | Network outage reported
INC002     | In Progress| Software installation issue
INC003     | Closed     | Server maintenance completed

<h3>Explanation:</h3>
- The node connects to the ServiceNow instance using the provided connection details (instance URL, user ID, and password).
- It queries the ServiceNow API to fetch incident records, limited to a default of 10 records (configurable via the node's internal parameters).
- The retrieved data is processed into a DataFrame with columns inc_number, state, and short_description, containing the incident number, state, and brief description of each incident, respectively.
- If a record lacks a specific field (e.g., short_description), it is populated with 'N/A' in the output DataFrame.
- The node does not require an input DataFrame, as it is designed to be the starting point of the workflow, directly fetching data from ServiceNow.

end-examples: