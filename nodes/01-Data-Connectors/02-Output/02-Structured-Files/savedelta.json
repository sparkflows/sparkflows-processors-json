{
  "id": "7",
  "name": "Save Delta",
  "description": "Saves the DataFrame into the specified location in Delta Format.",
  "type": "transform",
  "engine": "all",
  "nodeClass": "fire.nodes.save.NodeSaveDelta",
  "fields" : [
    {"name":"path", "display": true, "value":"", "widget": "textfield", "title": "Path",
      "description":"Path to save the delta files","required":"true"},

    {"name":"saveMode", "value":"Append", "widget": "array","optionsArray": ["Append","Overwrite", "ErrorIfExists", "Ignore"],
      "title": "Save Mode", "description":"Whether to Append, Overwrite or Error if the path Exists"},

    {"name": "advanced", "value":"", "widget": "tab", "title": "Advanced"},

    {"name":"partitionColNames", "value": "[]", "widget": "variables",
      "title": "Partition Column Names", "description": "Partition Column Names"},

    {"name":"mergeSchema", "value":"false", "widget": "array","optionsArray": ["false", "true"],
      "title": "Merge Schema", "description":"If true, then any columns that are present in the DataFrame but not in the target table are automatically added on to the end of the schema as part of a write transaction"},

    {"name":"overwriteSchema", "value":"false", "widget": "array","optionsArray": ["false","true"],
      "title": "Overwrite Schema", "description":"If true, overwrites the schema of the Delta table with the schema of the incoming DataFrame"},

    {"name":"optimizeWrite", "value":"false", "widget": "array","optionsArray": ["false","true"],
      "title": "Optimize Write", "description":"If true, it optimizes Spark partition sizes based on the actual data"},

    {"name":"overwritePartitionPredicate", "value":"", "widget": "textfield",
      "title": "Overwrite Partition Predicate", "description":"If specified, then it selectively overwrites only the data that satisfies the given where clause expression."},

    {"name": "extraOptions", "value": "", "widget": "tab", "title": "Extra Options"},
    {"name": "extraOptionsKeys", "value":"[]", "widget": "key_array", "title": "Extra Options Keys",  "description": "Delta-specific options for writing data to Delta tables. Examples include:\ndelta.mergeSchema --> 'true' or 'false'. If true, automatically adds any missing columns from the DataFrame to the Delta table schema during the write operation.\ndelta.optimizeWrite --> 'true' or 'false'. If true, optimizes the write process in Delta Lake by adjusting partition sizes based on the data, improving write performance.\ndelta.overwriteSchema --> 'true' or 'false'. If true, overwrites the Delta table schema with the schema of the incoming DataFrame during the write operation.\ndelta.replaceWhere --> SQL condition string. Specifies a condition for replacing specific partitions when performing a `MERGE INTO` operation or other write operations.\ndelta.autoOptimize.autoOptimizeZOrderColumns --> A list of columns to optimize for Z-Order. Improves query performance by co-locating related data in the Delta Lake files.\n"},
    {"name": "extraOptionsValues", "value":"[]", "widget": "value_array", "title": "Extra Options Values", "description": "Config Values for the Corresponding keys"}

  ]
}
start-details:

h2: Save Delta Node Details

This node Saves the DataFrame into the specified location in Delta Format.

h4: Parameters to be set:
* OUTPUT STORAGE LEVEL: Choose how the data should be stored (e.g., DEFAULT, DISK_ONLY).
* PATH: Specify the directory where the Delta Lake table will be saved. Use the "Browse" button to navigate and select the desired location.
* SAVE MODE: Choose how to save existing data in the table (Append, Overwrite, ErrorIfExists, Ignore).
Append: If data/table already exists, contents of the table are to be appended to existing data. 
Overwrite: If table already exists, existing data is overwritten by the new content. 
ErrorIfExists: If data already exists, an exception is thrown and operation stops.
Ignore: If table already exists, the save operation is ignored.

end-details:

start-examples:

h2: Save Delta Node Examples

h4: Example of Saving Data to Delta Lake
* OUTPUT STORAGE LEVEL: DEFAULT
* PATH: /user/hive/warehouse/my_delta_table
* SAVE MODE: Overwrite

end-examples:
