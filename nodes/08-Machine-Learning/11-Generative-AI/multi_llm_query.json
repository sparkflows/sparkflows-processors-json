{
  "id": "6",
  "name": " Multi LLM Query",
  "iconImage": "/images/icons/node-icon/Graph_group_by_column.svg",
  "description": "This node is designed to query multiple large language models (LLMs) from different providers (OpenAI, Bedrock, Gemini) using a vector database (e.g., Pinecone or FAISS) or a DataFrame. It processes user queries and returns responses by querying the selected vector database.",
  "input": "It may take in Dataframe as an input",
  "output": "Returns response as Dataframe",
  "type": "pyspark",
  "engine": "pyspark",
  "nodeClass": "fire.nodes.gai.NodeMultiLLMQuery",

  "fields": [
    {"name": "task", "value":"", "widget": "key_value_array", "title": "Select Option", "optionsMap": {"summary":"Generate Summary in bullet points ","translation":"Translate the following content to default language","topic_extraction": "Extract key topics from the following content.", "other": ""}, "description": "Specify the task to perform: summary, translation, topic extraction, or other.", "keyFields":"conditionExpr"},
    {"name": "customPrompt", "value": "", "widget": "textfield", "title": "Custom Prompt", "description": "Custom prompt to override the default instructions."},
    {"name": "userQueryCol", "value": "", "widget": "variable", "title": "User Query Column", "description": "Column name for user query (default: 'userQuery')."},
    {"name": "contentCol", "value": "content", "widget": "variable", "title": "Content Column", "description": "Column name for the text content."},
    {"name": "language", "value": "en", "widget": "textfield", "title": "Language", "description": "Language for translation (default: 'en')."},
    {"name": "modelSelection", "value": "openai", "widget": "array", "optionsArray": ["openai", "bedrock", "gemini"], "title": "Model Selection", "description": "Select the model to use (openai, bedrock, gemini)."},

    {"name": "System Prompt", "value": "", "widget": "tab", "title": "System Prompt"},
    {"name": "writePrompt", "value": "", "widget": "textfield", "title": "Write Prompt", "description": "Prompt text for writing the output."},
    {"name": "outputPath", "value": "", "widget": "textfield", "title": "Output Path", "description": "Path where the output will be saved."},
    {"name": "outputFormat", "value": "text", "widget": "array", "optionsArray": ["text", "pdf", "docx"], "title": "Output Format", "description": "Output format options: text, pdf, or docx."},


    {"name": "openai", "value": "", "widget": "tab", "title": "OpenAI"},
    {"name": "openaiApiKey", "value": "", "widget": "textfield", "title": "OpenAI API Key", "description": "Provide your OpenAI API key."},
    {"name": "openAiChatModel", "value": "", "widget": "textfield", "title": "OpenAI Chat Model", "description": "Specify the OpenAI chat model."},
    {"name": "temperature", "value": "0", "widget": "textfield", "title": "Temperature", "description": "Temperature setting for the model (default: 0)."},
    {"name": "max_tokens", "value": "1024", "widget": "textfield", "title": "Max Tokens", "description": "Maximum number of tokens for the response (default: 1024)."},
    {"name": "maxRetries", "value": "6", "widget": "textfield", "title": "Max Retries", "description": "Maximum number of retries for API calls (default: 6)."},

    {"name": "bedrock", "value": "", "widget": "tab", "title": "Bedrock"},
    {"name": "serviceName", "value": "", "widget": "textfield", "title": "Service Name", "description": "Specify the Bedrock service name."},
    {"name": "regionName", "value": "", "widget": "textfield", "title": "Region Name", "description": "AWS region name for Bedrock."},
    {"name": "awsAccessKeyId", "value": "", "widget": "textfield", "title": "AWS Access Key ID", "description": "AWS Access Key ID for Bedrock."},
    {"name": "awsSecretAccessKey", "value": "", "widget": "textfield", "title": "AWS Secret Access Key", "description": "AWS Secret Access Key for Bedrock."},

    {"name": "gemini", "value": "", "widget": "tab", "title": "Gemini"},
    {"name": "googleApiKey", "value": "", "widget": "textfield", "title": "Google API Key", "description": "Provide your Google API key for Gemini."},
    {"name": "geminiModel", "value": "", "widget": "textfield", "title": "Gemini Model", "description": "Specify the Gemini model."}
  ]

}
start-details:
h2: Create Content Generation Node Details

This node allows you to define and configure a content generation workflow. It supports tasks such as summarization, translation, and topic extraction. Users can override default prompts with custom instructions, select the data columns for processing, and choose the desired model for content generation. The node also offers separate configuration sections for system prompts and for integrating with service providers like OpenAI, Bedrock, and Gemini.

h4: Parameters to be set:

### Generat Configuration:
- **Select Option (Task)**: Choose the task to perform. Options include:
- **Summary**: Generate a summary in bullet points.
- **Translation**: Translate the content into the default language.
- **Topic Extraction**: Extract key topics from the content.
- **Other**: Specify any other task.
- **Custom Prompt**: Provide a custom prompt to override the default instructions.
- **User Query Column**: Specify the column that contains the user query (default: 'userQuery').
- **Content Column**: Specify the column that contains the text content (default: 'content').
- **Language**: Define the language for translation tasks (default: 'en').
- **Model Selection**: Select the model to use for content generation from the available options: OpenAI, Bedrock, or Gemini.

### System Prompt Configuration:
- **Write Prompt**: Enter the prompt text that will guide the content generation process.
- **Output Path**: Specify the file path where the generated output will be saved.
- **Output Format**: Choose the output format. Options include: text, pdf, or docx.

### OpenAI Specific Configuration:
- **OpenAI API Key**: Provide your OpenAI API key.
- **OpenAI Chat Model**: Specify the OpenAI chat model to use.
- **Temperature**: Set the temperature for the model (default: 0).
- **Max Tokens**: Define the maximum number of tokens for the response (default: 1024).
- **Max Retries**: Set the maximum number of retries for API calls (default: 6).

### Bedrock Specific Configuration:
- **Service Name**: Specify the Bedrock service name.
- **Region Name**: Provide the AWS region for Bedrock.
- **AWS Access Key ID**: Enter your AWS Access Key ID.
- **AWS Secret Access Key**: Enter your AWS Secret Access Key.

### Gemini Specific Configuration:
- **Google API Key**: Provide your Google API key for Gemini.
- **Gemini Model**: Specify the Gemini model to use.

end-details:
