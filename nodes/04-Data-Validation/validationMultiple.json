{
  "id": "6",
  "name": "Validate Fields Advanced",
  "description": "Validation Multiple Node",
  "type": "transform",
  "nodeClass": "fire.nodes.etl.NodeValidationMultiple",
  "fields" : [

    {"name": "description", "value":"", "widget": "textfield", "title": "Description", "description": "Validations being Performed"},

    {"name": "measureValue", "value":"80.0", "widget": "textfield", "title": "Validation Successful if Percent Good Records >= ", "description": "Condition for Validation Passing"},

    {"name": "inputCols", "value":"[]", "widget": "variables_list_select", "title": "Columns", "description": "Columns"},


    {"name": "functions1", "value":"[]", "widget": "variables_list_array",
      "optionsArray": ["NONE", "LENGTH_LESS_THAN", "LENGTH_EQUALS", "LENGTH_GREATER_THAN",
        "VALUE_LESS_THAN", "VALUE_EQUALS", "VALUE_GREATER_THAN",
        "IS_NULL", "IS_NOT_NULL", "IS_VALID_EMAIL_ADDRESS", "IS_VALID_DATE_FORMAT"],
      "title": "Function", "description": "Validation Function to apply"},

    {"name": "values1", "value":"[]", "widget": "variables_list_textfield", "title": "Values", "description": "Values"},

    {"name": "conditions1", "value":"[]", "widget": "variables_list_array",
      "optionsArray": ["NONE", "AND", "OR"],
      "title": "Condition", "description": "Validation Condition to apply"},


    {"name": "functions2", "value":"[]", "widget": "variables_list_array",
      "optionsArray": ["NONE", "LENGTH_LESS_THAN", "LENGTH_EQUALS", "LENGTH_GREATER_THAN",
        "VALUE_LESS_THAN", "VALUE_EQUALS", "VALUE_GREATER_THAN",
        "IS_NULL", "IS_NOT_NULL", "IS_VALID_EMAIL_ADDRESS", "IS_VALID_DATE_FORMAT"],
      "title": "Function", "description": "Validation Function to apply"},

    {"name": "values2", "value":"[]", "widget": "variables_list_textfield", "title": "Values", "description": "Values"},

    {"name": "conditions2", "value":"[]", "widget": "variables_list_array",
      "optionsArray": ["NONE", "AND", "OR"],
      "title": "Condition", "description": "Validation Condition to apply"},



    {"name": "functions3", "value":"[]", "widget": "variables_list_array",
      "optionsArray": ["NONE", "LENGTH_LESS_THAN", "LENGTH_EQUALS", "LENGTH_GREATER_THAN",
        "VALUE_LESS_THAN", "VALUE_EQUALS", "VALUE_GREATER_THAN",
        "IS_NULL", "IS_NOT_NULL", "IS_VALID_EMAIL_ADDRESS", "IS_VALID_DATE_FORMAT"],
      "title": "Function", "description": "Validation Function to apply"},

    {"name": "values3", "value":"[]", "widget": "variables_list_textfield", "title": "Values", "description": "Values"}

  ]
}

start-details:

h2:Validate Fields Advanced Node Details

This node creates two outgoing Dataframes based on the result of Validation Rules on the incoming Dataframe. 
First outgoing Dataframe consists of rows that succeeds the Validation Rules and second one consists of failed rows.   

This node facilitates checking of multiple conditions in each rule joined by AND or OR.

Multiple validation rules can be defined for multiple columns. Succeeded and Failed Dataframes are created by applying all the validation rules on the incoming Dataframes.

end-details:

start-examples:

h2:Validate Fields Advanced Node Examples

Incoming Dataframe has following rows:

EMP_CD       |    EMP_NAME       |    DEPT       |    SALARY       |    AGE       |    DATE_OF_JOINING       |    EMAIL
------------------------------------------------------------------------------------------------------------------------------------
E01          |    ANTHONY        |    HR         |    50000        |    40        |    2020-12-12            |    anthony@hrdept.com
E02          |    LISA           |    HR         |    35000        |    35        |    2021-02-30            |    lisa@hrdept.com
E03          |    MARTIN         |    HR         |    20000        |    25        |    2020-01-01            |    martin@nodept.com
E04          |    DAVID          |    SALES      |    55000        |    40        |    2021-13-13            |    david@salesdept.com
E05          |    MARK           |    SALES      |    60000        |    27        |    2020-01-01            |    mark@salesdept.com
E06          |    JOE            |    SALES      |    40000        |    31        |    2010-01-01            |    joe@salesdept.com
E07          |    BELLA          |    HR         |    60000        |    24        |    2001-12-12            |    bella@hrdept.com

if following Validation Rules are defined in Validation node:

COLUMNS       |    FUNCTION             |    VALUES       |    CONDITION    |    FUNCTION               |    VALUES
------------------------------------------------------------------------------------------------------------------------
AGE           |    VALUE_GREATER_THAN   |    30           |    AND          |    VALUE_LESS_THAN        |    41
EMP_NAME      |    LENGTH_GREATER_THAN  |    2            |    AND          |    LENGTH_LESS_THAN       |    5

then outgoing Dataframes would be created as below:

h4: Succeeded Dataframe consisting of rows that succeeded Validation Rules:

EMP_CD    |   EMP_NAME  |    DEPT    |  SALARY  |    AGE   |  DATE_OF_JOINING  |  EMAIL              |  validation_result | validation_result_reason
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
E02       |   LISA      |    HR      |  35000   |    35    |  2021-02-30       |  lisa@hrdept.com    |  1                 |
E06       |   JOE       |    SALES   |  40000   |    31    |  2010-01-01       |  joe@salesdept.com  |  1                 |

h4: Failed Dataframe consisting of rows that failed Validation Rules:

EMP_CD    |   EMP_NAME  |    DEPT    |  SALARY  |    AGE   |  DATE_OF_JOINING  |  EMAIL              |  validation_result | validation_result_reason
-----------------------------------------------------------------------------------------------------------------------------------------------------------
E01       |   ANTHONY   |    HR      |  50000   |    40    |  2020-12-12       |  anthony@hrdept.com |  0                 | EMP_NAME value length is not less than 5 ,
E03       |   MARTIN    |    HR      |  20000   |    25    |  2020-01-01       |  martin@nodept.com  |  0                 | AGE is not greater than 30 , EMP_NAME value length is not less than 5 ,
E04       |   DAVID     |    SALES   |  55000   |    40    |  2021-13-13       |  david@salesdept.com|  0                 | EMP_NAME value length is not less than 5 ,
E05       |   MARK      |    SALES   |  60000   |    27    |  2020-01-01       |  mark@salesdept.com |  0                 | AGE is not greater than 30 ,
E07       |   BELLA     |    HR      |  60000   |    24    |  2001-12-12       |  bella@hrdept.com   |  0                 | AGE is not greater than 30 , EMP_NAME value length is not less than 5 ,

end-examples:
